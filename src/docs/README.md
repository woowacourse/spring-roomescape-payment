# 정책

## 예약 대기 정책

- 동일한 날짜, 시간, 테마의 예약이 존재할 경우, 사용자는 해당 예약에 대기를 요청할 수 있다.
- 사용자는 내 예약 조회 시 대기 중인 예약인 경우, 해당 대기의 순번을 확인할 수 있다.
- 사용자는 동일한 날짜, 시간, 테마의 예약이 불가능하다.
  - 동일한 날짜, 시간의 다른 테마인 경우, 예약이 가능하다.
  - 다른 날짜, 시간의 동일한 테마인 경우, 예약이 가능하다.
- 사용자는 대기가 예약으로 확정되기 전이라면, 예약 대기를 취소할 수 있다.

## 예약 취소
- 예약 취소 시, 해당 예약에 대해 우선순위가 높은 대기가 자동으로 예약된다.
- 관리자는 예약 대기를 거절할 수 있다.

# 요구사항 분석
## 1단계
- 예약 API 변경
  - [x] 예약 요청 시 결제 기능 추가
  - [x] 결제 실패 시 예외 처리
    - [x] 사용자에게 결재 실패 사유 전달
- [x] 외부 API 연동

## 2단계
- 결제 정보 조회 추가
  - [x] 결제 테이블 설계
  - [x] 예약 생성 시 결제 저장 로직 추가
  - [x] 예약 조회 시 결제 정보 조회 로직 추가
